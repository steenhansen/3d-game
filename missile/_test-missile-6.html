<!DOCTYPE html>


<!--        !!!!!!!!!!!!                   -->
<base href="../">
<!--        !!!!!!!!!!!!                   -->

<link rel="icon" type="image/x-icon" href="images/favicon.png">

<div id="the-css">
  <link rel="stylesheet" href="device/device-screens.css" />


  <link rel="stylesheet" href="values/variables.css" />
  <link rel=" stylesheet" href="scene/layout.css" />
  <link rel="stylesheet" href="field/field.css" />
  <link rel="stylesheet" href="pylons/pylons.css" />
  <link rel="stylesheet" href="land/land.css" />
  <link rel="stylesheet" href="enemy/enemy.css" />
  <link rel="stylesheet" href="missile/missile.css" />
  <link rel="stylesheet" href="sky/sky.css" />
  <link rel="stylesheet" href="missile/missile-vars.css" />
  <link rel="stylesheet" href="input/arrows.css" />
  <link rel="stylesheet" href="input/boxes.css" />
  <link rel="stylesheet" href="input/desktop-directions.css" />
</div>

<div id="js-constants">
  <script type="text/javascript" src="values/debug-settings.js"></script>
  <script type="text/javascript" src="values/states.js"></script>
  <script type="text/javascript" src="values/the_constants.js"></script>
  <script type="text/javascript" src="pylons/pylons-data.js"></script>
  <script type="text/javascript" src="data/colors.js"></script>
  <script type="text/javascript" src="field/field-bounds.js"></script>
  <script type="text/javascript" src="field/field-invert.js"></script>
  <script type="text/javascript" src="field/field-constants.js"></script>

  <script type="text/javascript" src="sprites/sprite-sizes.js"></script>

</div>

<div id="the-svgs">
  <div id='pylons-svg'> </div>
  <div id='svg-arrows'> </div>
</div>

<div id="js-before">
  <script type="text/javascript" src="values/the_globals.js"></script>
  <script type="text/javascript" src="values/css-vars.js"></script>
  <script type="text/javascript" src="device/orientation.js"></script>

  <script type="text/javascript" src="things/objects.js"></script>

  <script type="text/javascript" src="scene/game-loop.js"></script>
  <script type="text/javascript" src="player/player_data.js"></script>
  <script type="text/javascript" src="player/player_code.js"></script>
  <script type="text/javascript" src="things/panel.js"></script>
  <script type="text/javascript" src="things/collisions.js"></script>
  <script type="text/javascript" src="sky/sky_code.js"></script>
  <script type="text/javascript" src="input/desktop-keys.js"></script>
  <script type="text/javascript" src="scene/vanish_point.js"></script>

  <script type="text/javascript" src="field/field-code.js"></script>
  <script type="text/javascript" src="field/field-depth.js"></script>
  <script type="text/javascript" src="field/field-left.js"></script>
  <script type="text/javascript" src="field/field-right.js"></script>



  <script type="text/javascript" src="pylons/pylons-svg.js"></script>

  <script type="text/javascript" src="pylons/pylons-code.js"></script>

  <script type="text/javascript" src="scene/scene_3d.js"></script>
  <script type="text/javascript" src="scene/scene-init.js"></script>

  <script rel="text/javascript" src="field/field_test.js"></script>



</div>



<div id='click-to-begin'>
  <br>
  <button id="begin-desktop" type="button" onclick=" g_loop_state = LOOP_1_AFTER_BEGIN;">Begin desktop 3D game</button>
  <button id="begin-mobile" type="button" onclick=" g_loop_state = LOOP_1_AFTER_BEGIN;">Begin mobile 3D game</button>
  <br>
</div>


<div id="the-scene">

  <!--      wait-for- mobile-touch 
        smallest Galaxy Z Fold 5  882x344 -->
  <div id='start-mobile'>
    <ul id='mobile-list'>
      <li>Touch to start</li>
      <li>Tap white arrows to steer</li>
      <li>Tap in middle to shoot</li>
      <li>Swipe down to stop</li>
      <li>Swipe up quit</li>
    </ul>
  </div>
  <div id="touch-boxes"></div>
  <div id="arrows-html"></div>

  <div id="playing-game">
    <div id="star-space">
      <div id="saturn-space"></div>
    </div>
    <div id="the-sun"></div>
    <div id="sky-aperature">
      <div id="the-sky"> </div>
      <div id="the-pyramids"></div>
    </div>
    <div id="enemy-area"></div>
    <div id="missile-area" class="missile-class"></div>
    <div id="checkerboard-field"> </div>
    <div id='column-html'> </div>
    <canvas id="the-draw" width=" 1024" height="512"></canvas>
  </div>

  <div id="the-landing">
    <div id="land_nw"></div>
    <div id="land_ne"></div>
    <div id="land_sw"></div>
    <div id="land_se"></div>
  </div>


</div>


<div id="desktop-dir"></div>


<div id="js-inject-html">
  <script type="text/javascript" src="pylons/pylons-html.js"></script>
</div>



<div id="js-after">

  <script type="text/javascript" src="enemy/enemy_html.js"></script>
  <script type="text/javascript" src="missile/missile_html.js"></script>
  <script type="text/javascript" src="field/field_html.js"></script>
  <script type="text/javascript" src="enemy/enemy_code.js"></script>
  <script type="text/javascript" src="missile/missile_code.js"></script>


  <script type="text/javascript" src="land/land_nw_html.js"></script>
  <script type="text/javascript" src="land/land_ne_html.js"></script>
  <script type="text/javascript" src="land/land_sw_html.js"></script>
  <script type="text/javascript" src="land/land_se_html.js"></script>
  <script type="text/javascript" src="land/land_code.js"></script>




  <script type="text/javascript" src="input/arrows-html.js"></script>
  <script type="text/javascript" src="input/boxes-html.js"></script>
  <script type="text/javascript" src="input/arrows-svg.js"></script>
  <script type="text/javascript" src="input/desktop-directions.js"></script>
  <script type="text/javascript" src="input/arrows-click.js"></script>
  <script type="text/javascript" src="input/boxes-touch.js"></script>












</div>


<!-- above is the same as index.html but with added <base href="../">   -->




<script>




  SPEED_LAND = FAST_LAND;
  SPEED_ELEVATOR = FAST_ELEVATOR;
  SPEED_FLY = FAST_FLY;

  console.log("g_player", g_player);

  // sceneInit()

  g_missile_states = makeList();
  g_missile_iteration = 0;
  console.log("g_missile_states", g_missile_states);




  gameLoop('start-time_stamp');
  initLeftRight();
  g_loop_state = LOOP_1_AFTER_BEGIN;
  // loopAfterElevator();
  enemy_1.m_dead = true;
  enemy_2.m_dead = true;


  // g_loop_state = LOOP_6_PLAY;
  // function animateMissile() {

  the_missile_1 = launchMissile(the_missile_1);

  the_missile_1.m_y = the_missile_1.m_y - 10;

  missileSet('missile-1', the_missile_1, g_player);


  getRandoms();

  //g_loop_state = LOOP_DEBUG_STOP;

  setInterval(() => {
    enemy_1.m_y = 0;
    enemy_1.m_x = 2600;
    enemy_1.m_dead = true;

    enemy_2.m_y = 0;
    enemy_2.m_x = 2600;
    enemy_2.m_dead = true;

    enemy_1 = enemySet('enemy-1', enemy_1, g_player);
    enemy_1 = enemyStep(enemy_1);
    enemy_2 = enemySet('enemy-2', enemy_2, g_player);
    enemy_2 = enemyStep(enemy_2);

    getRandoms();

  }, "10");



  //  getRandoms();
  console.log("the_missile_1", the_missile_1);
  //   missileSet('missile-1', the_missile_1, g_player);
  //   //missileSet('missile-2', the_missile_2, g_player);

  //   getRandoms();

  //   requestAnimationFrame(animateMissile);
  // }

  // requestAnimationFrame(animateMissile);
</script>